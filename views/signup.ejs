
<%- include("parts/header") %>
<%- include("parts/sidebar") %>


<% let usernameError = validationErrors.find(err => err.path == "username") %>
<% let emailError = validationErrors.find(err => err.path == "email") %>
<% let passwordError = validationErrors.find(err => err.path == "password") %>
<% let confirmPasswordError = validationErrors.find(err => err.path == "confirmPassword") %>
<% let profileImageError = validationErrors.find(err => err.path == "profileImage") %>



<div class="container text-center">
    <form action="/signup" class="formStyle w-50 m-auto" method="POST" enctype="multipart/form-data">

        <div class="form-group my-4">
          <input type="text" class="form-control" name="username" placeholder="Username" maxlength="8">

        </div>

        <div class="form-group my-4">
            <input type="text" class="form-control" name="email" placeholder="E-mail">

          </div>

        <div class="form-group my-4 position-relative">
          <input type="password" class="form-control" name="password" placeholder="Password">
          <i class="fa-regular fa-eye hidePassword"></i>
          <i class="fa-regular fa-eye-slash seePassword"></i>
        </div>
        
        <div class="form-group my-4 position-relative">
          <input type="password" class="form-control" name="confirmPassword" placeholder="Confirm Password">
          <i class="fa-regular fa-eye hidePassword"></i>
          <i class="fa-regular fa-eye-slash seePassword"></i>
        </div>

        <div class="form-group my-4">
          <label class="form-label select-image" for="customFile">Select Profile Image</label>
          <input type="file" class="form-control fileImage" name="profileImage" id="customFile" style="display: none;"/>

        </div>

    
        <input type="submit" class="btn mb-3 d-block m-auto" value="Create Account">
        <small class="text-light">Already Have Account ? <a href="/login" class="text-decoration-none">Login</a></small>


        <% if(authError){ %>
          <p class="alert alert-danger p-1 mt-2"><%= authError %></p>
        <% } %>

        <% if(usernameError){ %>
          <p class="alert alert-danger p-1 mt-2"><%= usernameError.msg %></p>
              <% }else if(emailError){ %>
                <p class="alert alert-danger p-1 mt-2"><%= emailError.msg %></p>
                    <% }else if(passwordError){ %>
                      <p class="alert alert-danger p-1 mt-2"><%= passwordError.msg %></p>
                          <% }else if(confirmPasswordError){ %>
                            <p class="alert alert-danger p-1 mt-2"><%= confirmPasswordError.msg %></p>
                                <% }else if(profileImageError){ %>
                                  <p class="alert alert-danger p-1 mt-2"><%= profileImageError.msg %></p>
                                      <% } %>
      </form>


</div>


<%- include("parts/scripts") %>
</body>
</html>